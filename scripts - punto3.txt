Paso 1: Verificación del servidor web

En la máquina virtual servidor (IP 192.168.50.3), comprobar que Apache se encuentre en ejecución:

sudo systemctl status apache2


Crear una página personalizada en el directorio raíz del servidor web:

echo "<h1>Servidor expuesto con Ngrok</h1><p>Prueba parcial Servicios Telemáticos</p>" | sudo tee /var/www/html/pagina_personalizada.html


Validar localmente que la página responde:

curl http://localhost/pagina_personalizada.html



Paso 2: Instalación de Ngrok en el anfitrión Windows

Descargar Ngrok desde el sitio oficial (https://ngrok.com/download
) o instalarlo desde Microsoft Store.

Verificar la ubicación del archivo ngrok.exe. Si se instaló desde Microsoft Store, normalmente se encuentra en:

C:\Users\USUARIO\AppData\Local\Microsoft\WindowsApps\


Se puede confirmar ejecutando en PowerShell:

where.exe ngrok


Agregar la ruta de ngrok.exe a la variable de entorno Path:

Abrir: Panel de Control → Sistema → Configuración avanzada del sistema → Variables de entorno.

Editar la variable del sistema Path y añadir la ruta donde se encuentra ngrok.exe.

Verificar que Ngrok esté disponible desde la terminal:

ngrok version

Paso 3: Configuración del AuthToken

Registrarse en el portal de Ngrok: https://dashboard.ngrok.com
.

En la sección Your Authtoken, copiar el token asignado.

Configurarlo en Windows mediante PowerShell:

ngrok config add-authtoken TOKEN_ASIGNADO


Esto generará el archivo de configuración ngrok.yml en la carpeta de usuario.

Paso 4: Creación del túnel hacia la máquina virtual

El servidor Apache corre en la máquina virtual con IP privada 192.168.50.3 y en el puerto 80.
Desde el anfitrión Windows, ejecutar:

ngrok http 192.168.50.3:80


Ngrok mostrará una salida con una URL pública de la forma:

Forwarding    https://ejemplo1234.ngrok.io -> http://192.168.50.3:80

Paso 5: Validación del acceso remoto

Desde un dispositivo externo (por ejemplo, un teléfono con datos móviles o un equipo en otra red), ingresar en el navegador la URL proporcionada por Ngrok:

https://ejemplo1234.ngrok.io/pagina_personalizada.html
